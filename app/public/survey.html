<!DOCTYPE html>
<html lang="en">
<head>
  <title>Survey</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
 
  <!-- bootstrap -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>

<!-- <body style="background: url(https://webdesignerdepot.s3.amazonaws.com/default-images/26.jpg)"> -->

<div class="container">
             
  <h1><strong>Survey Questions</strong></h1>
  <div class="card-panel teal lighten-2">

 <div class="card-panel">
      <span class="blue-text text-darken-2"><h2><strong>About You</strong></h2></span>

	<h4>Name (Required)</h4>
	<input type = "text" name id = "name" class="form-control" required>
	<h4>Link to Photo Image (Required)</h4>
	<input type = "text" name id = "photo" class="form-control" required>
	<br>
	
<h3><strong>Question 1</strong><h3>
  <h4>Your family is very important to you.</h4>
   <select class="custom-select">
  <option selected>Select an Option</option>
  <option value = "1">1 (Strongly Disagree)</option>
  <option value = "2">2</option>
  <option value = "3">3</option>
  <option value = "4">4</option>
  <option value = "5">5 (Strongly Agree)</option>
  </select>

<h3><strong>Question 2</strong><h3>
  <h4>Your preference for a quick getaway includes sunny skies, sand, and the ocean.</h4>
   <select class="custom-select">
  <option selected>Select an Option</option>
  <option value = "1">1 (Strongly Disagree)</option>
  <option value = "2">2</option>
  <option value = "3">3</option>
  <option value = "4">4</option>
  <option value = "5">5 (Strongly Agree)</option>
  </select>

<h3><strong>Question 3</strong><h3>
  <h4>You love watching or going to sporting events.</h4>
   <select class="custom-select">
  <option selected>Select an Option</option>
  <option value = "1">1 (Strongly Disagree)</option>
  <option value = "2">2</option>
  <option value = "3">3</option>
  <option value = "4">4</option>
  <option value = "5">5 (Strongly Agree)</option>
  </select>

  <h3><strong>Question 4</strong><h3>
  <h4>You rarely do something just out of sheer curiosity.</h4>
   <select class="custom-select">
  <option selected>Select an Option</option>
  <option value = "1">1 (Strongly Disagree)</option>
  <option value = "2">2</option>
  <option value = "3">3</option>
  <option value = "4">4</option>
  <option value = "5">5 (Strongly Agree)</option>
  </select>

  <h3><strong>Question 5</strong><h3>
  <h4>You find it easy for something or someone to upset you..</h4>
   <select class="custom-select">
  <option selected>Select an Option</option>
  <option value = "1">1 (Strongly Disagree)</option>
  <option value = "2">2</option>
  <option value = "3">3</option>
  <option value = "4">4</option>
  <option value = "5">5 (Strongly Agree)</option>
  </select>

  <h3><strong>Question 6</strong><h3>
  <h4>It is often difficult for you to relate to other people’s feelings..</h4>
   <select class="custom-select">
  <option selected>Select an Option</option>
  <option value = "1">1 (Strongly Disagree)</option>
  <option value = "2">2</option>
  <option value = "3">3</option>
  <option value = "4">4</option>
  <option value = "5">5 (Strongly Agree)</option>
  </select>

  <h3><strong>Question 7</strong><h3>
  <h4>Others describe you as a very loyal person especially when it comes to your friends.</h4>
   <select class="custom-select">
  <option selected>Select an Option</option>
  <option value = "1">1 (Strongly Disagree)</option>
  <option value = "2">2</option>
  <option value = "3">3</option>
  <option value = "4">4</option>
  <option value = "5">5 (Strongly Agree)</option>
  </select>

  <h3><strong>Question 8</strong><h3>
  <h4>You think that everyone’s views should be respected regardless of whether they are supported by facts or not.</h4>
   <select class="custom-select">
  <option selected>Select an Option</option>
  <option value = "1">1 (Strongly Disagree)</option>
  <option value = "2">2</option>
  <option value = "3">3</option>
  <option value = "4">4</option>
  <option value = "5">5 (Strongly Agree)</option>
  </select>

  <h3><strong>Question 9</strong><h3>
  <h4>You tend to have mood swings more often than others around you.</h4>
   <select class="custom-select">
  <option selected>Select an Option</option>
  <option value = "1">1 (Strongly Disagree)</option>
  <option value = "2">2</option>
  <option value = "3">3</option>
  <option value = "4">4</option>
  <option value = "5">5 (Strongly Agree)</option>
  </select>

  <h3><strong>Question 10</strong><h3>
  <h4>You prefer to be able to do what you want rather than act within accepted rules and regulations.</h4>
   <select class="custom-select">
  <option selected>Select an Option</option>
  <option value = "1">1 (Strongly Disagree)</option>
  <option value = "2">2</option>
  <option value = "3">3</option>
  <option value = "4">4</option>
  <option value = "5">5 (Strongly Agree)</option>
  </select>
<br>
<br>
<br>
   <!-- Materialize Modal Trigger/Submit Button -->
                <button type ="submit" data-target="modal1" class="waves-effect waves-light btn modal-trigger cyan lighten-1" id="submitBtn">Submit</button>
            </div>
        </div>
 <div class='col s4'>
 <p><a href="../data/friends">API Friends List</a> | <a href="https://github.com/nnm0122/FriendFinder.git">GitHub Repo</a></p>  
 </div>

 <!-- Materialize Modal Structure -->
        <div id="modal1" class="modal">
          <div class="modal-content">
            <h4>Meet Your New Freind!</h4>
            <h5 id="matchName"></h5>
            <img id="matchPic" src="" alt="No Image" width = 250px>
          </div>
        <div class="modal-footer">
          <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Done</a>
        </div>
      </div>
  </div>
    </div>
</div>
<!-- Grabs information and sends it to server -->
<script type="text/javascript">
$(document).ready(function() {
    $("#submitBtn").on("click", function() {
        //form validation
        function validateForm() {
            var isValid = true;
            $('.validate').each(function() {
                if ($(this).val() === ''){
                    isValid = false;
                }
            });
            $('.browser-default').each(function() {
                if ($(this).val() === ""){
                    isValid = false;
                }
            });
            return isValid;
        }
        //if everything is filled
        if (validateForm() == true) {
            //creates a new friend from the values submitted
            var newFriend = {
                name: $('#name').val().trim(),
                photo: $('#photo').val().trim(),
                scores: [
                    $('#q1').val(),
                    $('#q2').val(),
                    $('#q3').val(),
                    $('#q4').val(),
                    $('#q5').val(),
                    $('#q6').val(),
                    $('#q7').val(),
                    $('#q8').val(),
                    $('#q9').val(),
                    $('#q10').val(),
                ]
            };
            //Grabs current URL of website
            var currentURL = window.location.origin;

            //AJAX posts the data to friends API.
            $.post(currentURL + "../data/friends", newFriend, function(data) {
                //Grab the result from the AJAX post so that the best match's name and photo are displayed.
                $("#matchName").text(data.name);
                $("#matchPic").attr("src", data.photo);
            });
            // Show the modal with the best match
                $('.modal').modal();
            //clear form after submission
            $('#name').val("");
            $('#photo').val("");
            $('#q1').val("");
            $('#q2').val("");
            $('#q3').val("");
            $('#q4').val("");
            $('#q5').val("");
            $('#q6').val("");
            $('#q7').val("");
            $('#q8').val("");
            $('#q9').val("");
            $('#q10').val("");
        } else {
            alert("Oops! You have not filled out all fields of the survey!")
        }
        return false;
    });
});
</script>
</body>
</html>


